t <- p + labs(x = "Grant Program", y ="Number of Grants" ) +
theme(
panel.background = element_rect(fill = 'white', colour = 'black'),
axis.text = element_text(size = 18),
axis.text.x = element_text(colour = "gray30"),
axis.text.y = element_text(colour = "gray30"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.title.x = element_text(size =20),
axis.title.y = element_text(size =12))+
scale_fill_gradientn(colours=c("navy", "yellow"))   #"cyan3", "yellow4")"green3", "grey50"  #"dodgerblue", "navy" #"darkcyan", "yellow4", "black" #"green4","olivedrab3", "darkorange1", # "red","navy", "dodgerblue" #"darkorchid4","lightskyblue4", "black"
t
df<-subset(df, Grant.Searched != "")
p <- ggplot(data = df) +
geom_col(aes(x = Grant.Searched, y= df$count, fill = FundingAmount))
p <- p + theme(panel.background = element_rect(fill = 'white', colour = 'black'))
t <- p + labs(x = "Grant Program", y ="Number of Grants" ) +
theme(
panel.background = element_rect(fill = 'white', colour = 'black'),
axis.text = element_text(size = 18),
axis.text.x = element_text(colour = "gray30"),
axis.text.y = element_text(colour = "gray30"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.title.x = element_text(size =16),
axis.title.y = element_text(size =18))+
scale_fill_gradientn(colours=c("navy", "yellow"))   #"cyan3", "yellow4")"green3", "grey50"  #"dodgerblue", "navy" #"darkcyan", "yellow4", "black" #"green4","olivedrab3", "darkorange1", # "red","navy", "dodgerblue" #"darkorchid4","lightskyblue4", "black"
t
df<-subset(df, Grant.Searched != "")
p <- ggplot(data = df) +
geom_col(aes(x = Grant.Searched, y= df$count, fill = numberpaper))
p <- p + theme(panel.background = element_rect(fill = 'white', colour = 'black'))
t <- p + labs(x = "Grant Program", y ="Number of Grants" ) +
theme(
panel.background = element_rect(fill = 'white', colour = 'black'),
axis.text = element_text(size = 18),
axis.text.x = element_text(colour = "gray30"),
axis.text.y = element_text(colour = "gray30"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.title.x = element_text(size =12),
axis.title.y = element_text(size =18))+
scale_fill_gradientn(colours=c("navy", "yellow"))   #"cyan3", "yellow4")"green3", "grey50"  #"dodgerblue", "navy" #"darkcyan", "yellow4", "black" #"green4","olivedrab3", "darkorange1", # "red","navy", "dodgerblue" #"darkorchid4","lightskyblue4", "black"
t
ggsave(filename= "Figures/Grants_numberofpapers_columnchart.pdf", t, width=10, height=8)
df<-subset(df, Grant.Searched != "")
p <- ggplot(data = df) +
geom_col(aes(x = Grant.Searched, y= df$count, fill = FundingAmount))
p <- p + theme(panel.background = element_rect(fill = 'white', colour = 'black'))
t <- p + labs(x = "Grant Program", y ="Number of Grants" ) +
theme(
panel.background = element_rect(fill = 'white', colour = 'black'),
axis.text = element_text(size = 18),
axis.text.x = element_text(colour = "gray30"),
axis.text.y = element_text(colour = "gray30"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.title.x = element_text(size =12),
axis.title.y = element_text(size =18))+
scale_fill_gradientn(colours=c("navy", "yellow"))   #"cyan3", "yellow4")"green3", "grey50"  #"dodgerblue", "navy" #"darkcyan", "yellow4", "black" #"green4","olivedrab3", "darkorange1", # "red","navy", "dodgerblue" #"darkorchid4","lightskyblue4", "black"
t
ggsave(filename= "Figures/Grants_fundingamount_columnchart.pdf", t, width=10, height=8)
df<-subset(df, Grant.Searched != "")
p <- ggplot(data = df) +
geom_col(aes(x = Grant.Searched, y= df$count, fill = FundingAmount))
p <- p + theme(panel.background = element_rect(fill = 'white', colour = 'black'))
t <- p + labs(x = "Grant Program", y ="Number of Grants" ) +
theme(
panel.background = element_rect(fill = 'white', colour = 'black'),
axis.text = element_text(size = 18),
axis.text.x = element_text(colour = "gray30", size =12),
axis.text.y = element_text(colour = "gray30"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.title.x = element_text(size =20),
axis.title.y = element_text(size =18))+
scale_fill_gradientn(colours=c("navy", "yellow"))   #"cyan3", "yellow4")"green3", "grey50"  #"dodgerblue", "navy" #"darkcyan", "yellow4", "black" #"green4","olivedrab3", "darkorange1", # "red","navy", "dodgerblue" #"darkorchid4","lightskyblue4", "black"
t
df<-subset(df, Grant.Searched != "")
p <- ggplot(data = df) +
geom_col(aes(x = Grant.Searched, y= df$count, fill = numberpaper))
p <- p + theme(panel.background = element_rect(fill = 'white', colour = 'black'))
t <- p + labs(x = "Grant Program", y ="Number of Grants" ) +
theme(
panel.background = element_rect(fill = 'white', colour = 'black'),
axis.text = element_text(size = 18),
axis.text.x = element_text(colour = "gray30", size =12),
axis.text.y = element_text(colour = "gray30"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.title.x = element_text(size =20),
axis.title.y = element_text(size =18))+
scale_fill_gradientn(colours=c("navy", "yellow"))   #"cyan3", "yellow4")"green3", "grey50"  #"dodgerblue", "navy" #"darkcyan", "yellow4", "black" #"green4","olivedrab3", "darkorange1", # "red","navy", "dodgerblue" #"darkorchid4","lightskyblue4", "black"
t
ggsave(filename= "Figures/Grants_numberofpapers_columnchart.pdf", t, width=10, height=8)
df<-subset(df, Grant.Searched != "")
p <- ggplot(data = df) +
geom_col(aes(x = Grant.Searched, y= df$count, fill = FundingAmount))
p <- p + theme(panel.background = element_rect(fill = 'white', colour = 'black'))
t <- p + labs(x = "Grant Program", y ="Number of Grants" ) +
theme(
panel.background = element_rect(fill = 'white', colour = 'black'),
axis.text = element_text(size = 18),
axis.text.x = element_text(colour = "gray30", size =12),
axis.text.y = element_text(colour = "gray30"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.title.x = element_text(size =20),
axis.title.y = element_text(size =18))+
scale_fill_gradientn(colours=c("navy", "yellow"))   #"cyan3", "yellow4")"green3", "grey50"  #"dodgerblue", "navy" #"darkcyan", "yellow4", "black" #"green4","olivedrab3", "darkorange1", # "red","navy", "dodgerblue" #"darkorchid4","lightskyblue4", "black"
t
ggsave(filename= "Figures/Grants_fundingamount_columnchart.pdf", t, width=10, height=8)
p <- ggplot(data = df) +
geom_col(aes(x = Grant.Searched, y= df$count, fill = numberpaper))
p <- p + theme(panel.background = element_rect(fill = 'white', colour = 'black'))
t <- p + labs(x = "Grant Program", y ="Number of Grants" ) +
theme(
panel.background = element_rect(fill = 'white', colour = 'black'),
axis.text = element_text(size = 18),
axis.text.x = element_text(colour = "gray30", size =10),
axis.text.y = element_text(colour = "gray30"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.title.x = element_text(size =20),
axis.title.y = element_text(size =18))+
scale_fill_gradientn(colours=c("navy", "yellow"))   #"cyan3", "yellow4")"green3", "grey50"  #"dodgerblue", "navy" #"darkcyan", "yellow4", "black" #"green4","olivedrab3", "darkorange1", # "red","navy", "dodgerblue" #"darkorchid4","lightskyblue4", "black"
t
ggsave(filename= "Figures/Grants_numberofpapers_columnchart.pdf", t, width=10, height=8)
df<-subset(df, Grant.Searched != "")
p <- ggplot(data = df) +
geom_col(aes(x = Grant.Searched, y= df$count, fill = FundingAmount))
p <- p + theme(panel.background = element_rect(fill = 'white', colour = 'black'))
t <- p + labs(x = "Grant Program", y ="Number of Grants" ) +
theme(
panel.background = element_rect(fill = 'white', colour = 'black'),
axis.text = element_text(size = 18),
axis.text.x = element_text(colour = "gray30", size =10),
axis.text.y = element_text(colour = "gray30"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.title.x = element_text(size =20),
axis.title.y = element_text(size =18))+
scale_fill_gradientn(colours=c("navy", "yellow"))   #"cyan3", "yellow4")"green3", "grey50"  #"dodgerblue", "navy" #"darkcyan", "yellow4", "black" #"green4","olivedrab3", "darkorange1", # "red","navy", "dodgerblue" #"darkorchid4","lightskyblue4", "black"
t
ggsave(filename= "Figures/Grants_fundingamount_columnchart.pdf", t, width=10, height=8)
library(dplyr)
library(tidyverse)
library(quanteda)
library(ggplot2)
#packages for word cloud
library(tm)
library(SnowballC)
library(wordcloud)
library(RColorBrewer)
library(RCurl)
library(XML)
library(vegan)
View(pubs)
library(ggmosaic)
View(pubs)
View(pubs)
ggplot(data = pubs) +
geom_mosaic(aes(x = product(Rubric1_OG_check), weight = Rubric1_OG_check, fill = count(Grant.Number)), na.rm=TRUE) +
labs(x="Hours of sleep a night ", title='f(SleepHrsNight)') + guides(fill=guide_legend(title = "SleepHrsNight", reverse = TRUE))
PubCount <- pubs %>%
group_by(Rubric1_OG_check, Rubric2) %>%
count(Grant.Number)
View(PubCount)
PubCount <- pubs %>%
group_by(Rubric1_OG_check, Rubric2) %>%
count()
View(PubCount)
PubCount <- na.omut(PubCount)
View(PubCount)
PubCount <- na.omit(PubCount)
View(PubCount)
ggplot(data = PubCount) +
geom_mosaic(aes(x = product(Rubric1_OG_check), weight = Rubric2, fill = n), na.rm=TRUE) +
labs(x="Hours of sleep a night ", title='f(SleepHrsNight)') + guides(fill=guide_legend(title = "SleepHrsNight", reverse = TRUE))
ggplot(data = PubCount) +
geom_mosaic(aes(x = product(n), weight = Rubric2, fill = Rubric1_OG_check), na.rm=TRUE) +
labs(x="Hours of sleep a night ", title='f(SleepHrsNight)') + guides(fill=guide_legend(title = "SleepHrsNight", reverse = TRUE))
pubs$Journal<-as.character(pubs$Journal)
pubs$Journal<-char_tolower(pubs$Journal)
pub_sum<- pubs %>% group_by(Journal) %>% summarize(count=n())
rub_sum<- pubs %>% group_by(Rubric1_OG) %>% summarize(count=n())
rub_sum_v2<- pubs %>% group_by(Rubric2) %>% summarize(count=n())
grant_ids <- unique(pubs$Grant.Number)
grant_deets <- data.frame('Grant.Number'=grant_ids, 'sdi'=-1)
hist(grant_deets$sdi, plot = T, xlab = "Shannon Diversity Index of Rubric for Each Grant", main='')
View(grant_deets)
pubs$Journal<-as.character(pubs$Journal)
pubs$Journal<-char_tolower(pubs$Journal)
pub_sum<- pubs %>% group_by(Journal) %>% summarize(count=n())
rub_sum<- pubs %>% group_by(Rubric1_OG) %>% summarize(count=n())
rub_sum_v2<- pubs %>% group_by(Rubric2) %>% summarize(count=n())
grant_ids <- unique(pubs$Grant.Number)
grant_deets <- data.frame('Grant.Number'=grant_ids, 'sdi'=-1)
View(grant_deets)
for (i in 1:length(grant_ids)) {
if (length(pubs$Publication.Year[pubs$Grant.Number == grant_ids[i]]) > 2){
sdi <- diversity(pubs$Rubric2[pubs$Grant.Number == grant_ids[i]], index="shannon")
} else {sdi = NA}
grant_deets$sdi[i] <- sdi
}
View(pubs)
typeof(pubs$Rubric2)
pubs$Journal<-as.character(pubs$Journal)
pubs$Journal<-char_tolower(pubs$Journal)
pub_sum<- pubs %>% group_by(Journal) %>% summarize(count=n())
rub_sum<- pubs %>% group_by(CNH.Rubric.2) %>% summarize(count=n())
rub_sum_v2<- pubs %>% group_by(Interdis.Rubric.1) %>% summarize(count=n())
grant_ids <- unique(pubs$Grant.Number)
grant_deets <- data.frame('Grant.Number'=grant_ids, 'sdi'=-1)
grant_deets <- data.frame('Grant.Number'=grant_ids, 'sdi_CNH'=-1, 'sdi_interdisc'=-1)
for (i in 1:length(grant_ids)) {
if (length(pubs$Publication.Year[pubs$Grant.Number == grant_ids[i]]) > 2){
grant_deets$sdi_CNH[i] <- diversity(pubs$CNH.Rubric.2[pubs$Grant.Number == grant_ids[i]], index="shannon")
grant_deets$sdi_interdisc[i] <- diversity(pubs$Interdis.Rubric.1[pubs$Grant.Number == grant_ids[i]], index="shannon")
} else {grant_deets$sdi_CNH[i] <-NA
grant_deets$sdi_interdisc[i] <-NA
}
}
library(dplyr)
library(tidyverse)
library(quanteda)
library(ggplot2)
#packages for word cloud
library(tm)
library(SnowballC)
library(wordcloud)
library(RColorBrewer)
library(RCurl)
library(XML)
library(vegan)
grants<- read.csv('Grants_toTrack_0702.csv')
pubs<- read.csv('PublicationTracker_0702.csv')
journals <- read.csv('SubsetJournals_11Jun20.csv')
pubs$Journal<-as.character(pubs$Journal)
pubs$Journal<-char_tolower(pubs$Journal)
pub_sum<- pubs %>% group_by(Journal) %>% summarize(count=n())
rub_sum<- pubs %>% group_by(CNH.Rubric.2) %>% summarize(count=n())
rub_sum_v2<- pubs %>% group_by(Interdis.Rubric.1) %>% summarize(count=n())
grant_ids <- unique(pubs$Grant.Number)
grant_deets <- data.frame('Grant.Number'=grant_ids, 'sdi'=-1)
grant_deets <- data.frame('Grant.Number'=grant_ids, 'sdi_CNH'=-1, 'sdi_interdisc'=-1)
for (i in 1:length(grant_ids)) {
if (length(pubs$Publication.Year[pubs$Grant.Number == grant_ids[i]]) > 2){
grant_deets$sdi_CNH[i] <- diversity(pubs$CNH.Rubric.2[pubs$Grant.Number == grant_ids[i]], index="shannon")
grant_deets$sdi_interdisc[i] <- diversity(pubs$Interdis.Rubric.1[pubs$Grant.Number == grant_ids[i]], index="shannon")
} else {grant_deets$sdi_CNH[i] <-NA
grant_deets$sdi_interdisc[i] <-NA
}
}
View(grant_deets)
grants<- grants %>% left_join(grant_deets)
hist(grant_deets$sdi, plot = T, xlab = "Shannon Diversity Index of Rubric for Each Grant", main='')
View(grants)
grant_deets_clean <- na.omit(grant_deets)
hist(grant_deets$sdi, plot = T, xlab = "Shannon Diversity Index of Rubric for Each Grant", main='')
hist(grant_deets$sdi_CNH, plot = T, xlab = "Shannon Diversity Index of Rubric for Each Grant", main='')
p <- ggplot(grant_deets)+ geom_histogram(aes(x=sdi_CNH), bins = 0.25)
p
p <- ggplot(grant_deets)+ geom_histogram(aes(x=sdi_CNH))
p
p <- ggplot(grant_deets)+ geom_histogram(aes(x=sdi_CNH), binwidth = 0.25)
p
p <- ggplot(grant_deets)+ geom_histogram(aes(x=sdi_CNH), binwidth = 0.2)
p
p <- ggplot(grant_deets)+ geom_histogram(aes(x=sdi_CNH), binwidth = 0.1)
p
t <- p + labs(x = "Shannon Diversity for CNH ", y ="Count of Grants" ) +
theme(
panel.background = element_rect(fill = 'white', colour = 'black'),
axis.text = element_text(size = 18),
axis.text.x = element_text(colour = "gray30"),
axis.text.y = element_text(colour = "gray30"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.title.x = element_text(size =20),
axis.title.y = element_text(size =18))
#scale_x_continuous(breaks = seq(0, 100, 10))+
#scale_fill_manual(colours="navy")
#xlim(1900, 2015)+
#ylim(0, 4)+
#scale_color_manual(values=c("green3", "grey50", "yellow4", "black", "darkcyan", "darkcyan", "green4","olivedrab3")) #"green4","olivedrab3"))+  #("cyan4", "yellow3","orange3","olivedrab4", "green3")"green3", "grey50"  #"dodgerblue", "navy" #"darkcyan", "yellow4", "black" #"green4","olivedrab3"
#scale_linetype_manual(values=c("solid", "dotted", "dotdash")) +
#guides(color = guide_legend(override.aes = list(size = 3)))
t
ggsave(filename= "Figures/Histo_Shannon_CHN.pdf", t, width=10, height=8)
# this should be re-done to show as a percentage of grants in the dimensions results (with dates 2000-2015 - I orginially had done this manually, but we should probably write another script to do this and remove duplicate titles from Collaborative proposals)
p <- ggplot(grant_deets)+ geom_histogram(aes(x=sdi_interdisc), binwidth = 0.1, fill = navy)
t <- p + labs(x = "Shannon Diversity for CNH ", y ="Count of Grants" ) +
theme(
panel.background = element_rect(fill = 'white', colour = 'black'),
axis.text = element_text(size = 18),
axis.text.x = element_text(colour = "gray30"),
axis.text.y = element_text(colour = "gray30"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.title.x = element_text(size =20),
axis.title.y = element_text(size =18))
t
p <- ggplot(grant_deets)+ geom_histogram(aes(x=sdi_interdisc), binwidth = 0.1, fill = "orange")
t <- p + labs(x = "Shannon Diversity for CNH ", y ="Count of Grants" ) +
theme(
panel.background = element_rect(fill = 'white', colour = 'black'),
axis.text = element_text(size = 18),
axis.text.x = element_text(colour = "gray30"),
axis.text.y = element_text(colour = "gray30"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.title.x = element_text(size =20),
axis.title.y = element_text(size =18))
t
View(grant_deets)
ggsave(filename= "Figures/Histo_Shannon_interdisc.pdf", t, width=10, height=8)
p <- ggplot(grant_deets)+ geom_histogram(aes(x=sdi_interdisc), binwidth = 0.1, fill = "orange")
t <- p + labs(x = "Shannon Diversity for Interdiscplinary ", y ="Count of Grants" ) +
theme(
panel.background = element_rect(fill = 'white', colour = 'black'),
axis.text = element_text(size = 18),
axis.text.x = element_text(colour = "gray30"),
axis.text.y = element_text(colour = "gray30"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.title.x = element_text(size =20),
axis.title.y = element_text(size =18))
t
ggsave(filename= "Figures/Histo_Shannon_interdisc.pdf", t, width=10, height=8)
p <- ggplot(grant_deets)+ geom_histogram(aes(x=sdi_CNH), binwidth = 0.1, fill = "navy")
t <- p + labs(x = "Shannon Diversity for CNH ", y ="Count of Grants" ) +
theme(
panel.background = element_rect(fill = 'white', colour = 'black'),
axis.text = element_text(size = 18),
axis.text.x = element_text(colour = "gray30"),
axis.text.y = element_text(colour = "gray30"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.title.x = element_text(size =20),
axis.title.y = element_text(size =18))
t
ggsave(filename= "Figures/Histo_Shannon_CHN.pdf", t, width=10, height=8)
View(grants)
unique (grants$X)
View(grants)
unique (grants$誰..Grant.Searched)
grants <- rename(grants, "GrantingProgram" = "誰..Grant.Searched")
View(grants)
grants_subset <- subset(grants, grants$GrantingProgram == c("ES", "BE-CNH", "GEO-CHN"))
View(grants_subset)
p <- ggplot(grants_subset)+ geom_histogram(aes(x=sdi_CNH), binwidth = 0.1, fill = GrantingProgram )
t <- p + labs(x = "Shannon Diversity for CNH ", y ="Count of Grants" ) +
theme(
panel.background = element_rect(fill = 'white', colour = 'black'),
axis.text = element_text(size = 18),
axis.text.x = element_text(colour = "gray30"),
axis.text.y = element_text(colour = "gray30"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.title.x = element_text(size =20),
axis.title.y = element_text(size =18))
t
p
p <- ggplot(grants_subset)+ geom_histogram(aes(x=sdi_CNH, fill = GrantingProgram), binwidth = 0.1 )
p
p <- ggplot(grants_subset, aes(x=sdi_CNH))+ geom_histogram(binwidth = 0.1)
p
p <- ggplot(grants_subset, aes(x=sdi_CNH))+ geom_histogram(binwidth = 0.1)
geom_histogram(data=subset(grants, grants$GrantingProgram == "ES"), binwidth = 0.1, colour = "yellow3", fill = "yellow3", size = 1) +
geom_histogram(data=subset(grants, grants$GrantingProgram == "BE-CNH"),binwidth = 0.1, colour = "forestgreen", fill = "forestgreen", alpha = 0.1, size = 2)+
geom_histogram(data=subset(grants, grants$GrantingProgram == "GEO-CHN"),binwidth = 0.1, colour = "navy", fill = "navy", alpha = 0.3, size = 1)
p <- ggplot(grants_subset, aes(x=sdi_CNH))+
geom_histogram(data=subset(grants, grants$GrantingProgram == "ES"), binwidth = 0.1, colour = "yellow3", fill = "yellow3", size = 1) +
geom_histogram(data=subset(grants, grants$GrantingProgram == "BE-CNH"),binwidth = 0.1, colour = "forestgreen", fill = "forestgreen", alpha = 0.1, size = 2)+
geom_histogram(data=subset(grants, grants$GrantingProgram == "GEO-CHN"),binwidth = 0.1, colour = "navy", fill = "navy", alpha = 0.3, size = 1)
p
p <- ggplot(grants_subset, aes(x=sdi_CNH))+
geom_histogram(data=subset(grants, grants$GrantingProgram == "ES"), binwidth = 0.1, colour = "yellow3", fill = "yellow3", size = 1) +
geom_histogram(data=subset(grants, grants$GrantingProgram == "BE-CNH"),binwidth = 0.1, colour = "forestgreen", fill = "forestgreen", alpha = 0.3, size = 2)+
geom_histogram(data=subset(grants, grants$GrantingProgram == "GEO-CHN"),binwidth = 0.1, colour = "navy", fill = "navy", alpha = 0.3, size = 1)
p
t <- p + labs(x = "Shannon Diversity for CNH ", y ="Count of Grants" ) +
theme(
panel.background = element_rect(fill = 'white', colour = 'black'),
axis.text = element_text(size = 18),
axis.text.x = element_text(colour = "gray30"),
axis.text.y = element_text(colour = "gray30"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.title.x = element_text(size =20),
axis.title.y = element_text(size =18))
t
t <- p + labs(x = "Shannon Diversity for CNH ", y ="Count of Grants" ) +
theme(
panel.background = element_rect(fill = 'white', colour = 'black'),
axis.text = element_text(size = 18),
axis.text.x = element_text(colour = "gray30"),
axis.text.y = element_text(colour = "gray30"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.title.x = element_text(size =20),
axis.title.y = element_text(size =18))+
scale_fill_discrete(guide = guide_legend(reverse=TRUE))
T
T
t
t <- p + labs(x = "Shannon Diversity for CNH ", y ="Count of Grants" ) +
theme(
panel.background = element_rect(fill = 'white', colour = 'black'),
axis.text = element_text(size = 18),
axis.text.x = element_text(colour = "gray30"),
axis.text.y = element_text(colour = "gray30"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.title.x = element_text(size =20),
axis.title.y = element_text(size =18)),
legend.position = c(.95, .95),)
t <- p + labs(x = "Shannon Diversity for CNH ", y ="Count of Grants" ) +
theme(
panel.background = element_rect(fill = 'white', colour = 'black'),
axis.text = element_text(size = 18),
axis.text.x = element_text(colour = "gray30"),
axis.text.y = element_text(colour = "gray30"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.title.x = element_text(size =20),
axis.title.y = element_text(size =18),
legend.position = c(.95, .95),)
t
ggsave(filename= "Figures/Histo_Shannon_CHN_grantprogram.pdf", t, width=10, height=8)
View(grants)
p <- ggplot(grants)+ geom_point(aes(x = grants$Funding.Amount, y=sdi_CNH), fill = "navy", alpha = 0.5)
p
grants$Funding.Amount <- as.numeric(grants$Funding.Amount)
p <- ggplot(grants)+ geom_point(aes(x = grants$Funding.Amount, y=sdi_CNH), fill = "navy", alpha = 0.5)
p
View(grants)
t <- p + labs(x = "Funding Amount ", y ="Shannon Diversity Index - CNH" ) +
theme(
panel.background = element_rect(fill = 'white', colour = 'black'),
axis.text = element_text(size = 18),
axis.text.x = element_text(colour = "gray30"),
axis.text.y = element_text(colour = "gray30"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.title.x = element_text(size =20),
axis.title.y = element_text(size =18))
t
p <- ggplot(grants)+ geom_point(aes(x = grants$Funding.Amount, y=sdi_CNH), fill = "navy", alpha = 0.5, size =3)
t <- p + labs(x = "Funding Amount ", y ="Shannon Diversity Index - CNH" ) +
theme(
panel.background = element_rect(fill = 'white', colour = 'black'),
axis.text = element_text(size = 18),
axis.text.x = element_text(colour = "gray30"),
axis.text.y = element_text(colour = "gray30"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.title.x = element_text(size =20),
axis.title.y = element_text(size =18))
t
ggsave(filename= "Figures/FundingAmount_Shannon_CHN.pdf", t, width=10, height=8)
grants <- rename(grants, "GrantingProgram" = "誰..Grant.Searched")
grants_subset <- subset(grants, grants$GrantingProgram == c("ES", "BE-CNH", "GEO-CHN"))
library(dplyr)
library(tidyverse)
library(quanteda)
library(ggplot2)
#packages for word cloud
library(tm)
library(SnowballC)
library(wordcloud)
library(RColorBrewer)
library(RCurl)
library(XML)
library(vegan)
grants <- rename(grants, "GrantingProgram" = "誰..Grant.Searched")
grants_subset <- subset(grants, grants$GrantingProgram == c("ES", "BE-CNH", "GEO-CHN"))
p <- ggplot(grants_subset, aes(x=sdi_CNH))+
geom_histogram(data=subset(grants, grants$GrantingProgram == "ES"), binwidth = 0.1, colour = "yellow3", fill = "yellow3", size = 1) +
geom_histogram(data=subset(grants, grants$GrantingProgram == "BE-CNH"),binwidth = 0.1, colour = "forestgreen", fill = "forestgreen", alpha = 0.3, size = 2)+
geom_histogram(data=subset(grants, grants$GrantingProgram == "GEO-CHN"),binwidth = 0.1, colour = "navy", fill = "navy", alpha = 0.3, size = 1)
t <- p + labs(x = "Shannon Diversity for CNH ", y ="Count of Grants" ) +
theme(
panel.background = element_rect(fill = 'white', colour = 'black'),
axis.text = element_text(size = 18),
axis.text.x = element_text(colour = "gray30"),
axis.text.y = element_text(colour = "gray30"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.title.x = element_text(size =20),
axis.title.y = element_text(size =18),
legend.position = c(.95, .95),)
t
p <- ggplot(grants_subset, aes(x=sdi_CNH))+
geom_density(data=subset(grants, grants$GrantingProgram == "ES"), colour = "yellow3", fill = "yellow3", size = 1) +
geom_density(data=subset(grants, grants$GrantingProgram == "BE-CNH"), colour = "forestgreen", fill = "forestgreen", alpha = 0.3, size = 2)+
geom_density(data=subset(grants, grants$GrantingProgram == "GEO-CHN"), colour = "navy", fill = "navy", alpha = 0.3, size = 1)
p
t <- p + labs(x = "Shannon Diversity for CNH ", y ="Density of Grants" ) +
theme(
panel.background = element_rect(fill = 'white', colour = 'black'),
axis.text = element_text(size = 18),
axis.text.x = element_text(colour = "gray30"),
axis.text.y = element_text(colour = "gray30"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.title.x = element_text(size =20),
axis.title.y = element_text(size =18),
legend.position = c(.95, .95),)
t
ggsave(filename= "Figures/Density_Shannon_CHN_grantprogram.pdf", t, width=10, height=8)
